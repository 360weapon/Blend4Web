
**************************
Методики создания ресурсов
**************************

.. _normal_mapping:

Карты нормалей
==============

Качество 3D-моделей напрямую зависит от уровня ее детализации. С ростом числа полигонов возрастает объем данных, время их загрузки и обработки, уменьшается скорость отрисовки. С целью обхода указанных ограничений применяется метод изготовления карт нормалей. Смысл метода заключается в создании высокополигональной модели, детализация которой затем переносится ("запекается") на основную низкополигональную модель в виде специальной текстуры (карты нормалей).

.. image:: src_images/normals_1.png
   :alt: Пример высокополигональной модели и полученной на ее основе низкополигональной.
   :align: center
   :width: 100%

Пример высокополигональной модели и полученной на ее основе низкополигональной.

Что такое "нормали"
-------------------
Нормаль - перпендекуляр к поверхности - имеет важное значение для расчета освещения. При отображении 3D-объекта в графическом движке происходит сравнение нормали в каждой точке с направлением падения света. В результате поверхность, нормаль которой находится по одну сторону с направлением света, отображается как освещенная (если наоборот - то как затемненная).

.. image:: src_images/normals_2.png
   :alt: Ориентация нормалей на поверхности трехмерного объекта.
   :align: center
   :width: 100%

Ориентация нормалей на поверхности трехмерного объекта.

Что такое "карта нормалей"
--------------------------
Для реализации освещения (без карты нормалей) графический движок использует нормали, рассчитанные в каждой точке меша - т.е. для каждого вертекса. Для отображения пикселов, расположенных между вертексами, используются усредненные нормали. Карта нормалей позволяет использовать "точные", указанные художником, нормали вместо усредненных.

.. image:: src_images/normals_3.png
   :alt: Затенение объекта без карты нормалей.
   :align: center
   :width: 100%

Затенение объекта без карты нормалей.

.. image:: src_images/normals_4.png
   :alt: Карта нормалей полученная с высокополигонального объекта.
   :align: center
   :width: 100%

Карта нормалей полученная с высокополигонального объекта.

.. image:: src_images/normals_5.png
   :alt: Затенение объекта c картой нормалей.
   :align: center
   :width: 100%

Затенение объекта c картой нормалей.



